<?xml version="1.0" encoding='UTF-8'?> 
<document> 
	<properties> 
		<author email="bflorat@users.sourceforge.net">Bertrand Florat</author>
		<title>Translation Howto</title> 
	</properties> 
  	<body>
  		<section name='Translation howto'>
   			<subsection name='Already translated'>
    			<p>These languages are already translated or are being translated :</p>
    			<ul>
    				<li>English (default, en)</li>
    				<li>French (fr)</li>
    				<li>German (de)</li>
    				<li>Swedish (sv) *</li>
    				<li>Italian (it) *</li>
    				<li>Dutch (nl) *</li>
    			</ul>
    			<p>(*): Partially translated, <a href='./translation_howto.html#Translation_upgrades'>translation to be updated</a></p>
    		</subsection>

   			<subsection name='Target'>
   			 <p>Anyone can translate Jajuk, no computer science is required. Note this is a <u>voluntary work</u>.
				For any question or comments, please send us a mail : <a href="mailto:bflorat@users.sourceforge.net">
				bflorat@users.sourceforge.net</a>. Translate current Jajuk version takes approximately 3 hours and upgrade takes from few minutes to one hour for major releases.</p>
    		</subsection>

   			<subsection name='README file translation'>
   			 <p>The README file is displayed during installation and is on the web site. Its name is <span style="font-family: monospace;">README_${iso3 code on 3 letters}.html</span>. Get README file of your choice as a source language. Example: use <span style="font-family: monospace;">README.html</span> as English source language at 
   			 <a href='http://cvs.sourceforge.net/viewcvs.py/jajuk/jajuk/dist-files/doc/README.html'>http://cvs.sourceforge.net/viewcvs.py/jajuk/jajuk/dist-files/doc/README.html</a>
					or any other README file in the directory and translate it. List of ISO3 codes is available at : <a href='http://ftp.ics.uci.edu/pub/ietf/http/related/iso3166.txt'>http://ftp.ics.uci.edu/pub/ietf/http/related/iso3166.txt</a>.</p>
    		</subsection>

   			<subsection name='Jajuk translation'>
	   			<p>Jajuk uses a custom internationalization (i18n) system based on a XML/properties file. In the final distribution, langpack files are:</p>
				<p><span style="font-family: monospace;">${jajuk installation path}/src/org/jajuk/i18n/<br></br>
                                          jajuk.properties<br></br>
                                          jajuk_fr.properties<br></br>
                                          jajuk_${locale}.properties</span></p>
        	    <p><span style="font-family: monospace;">${locale}</span> is a ISO language code, see <a href='http://www.ics.uci.edu/pub/ietf/http/related/iso639.txt'>http://www.ics.uci.edu/pub/ietf/http/related/iso639.txt</a>. 
            	jajuk.properties contains default resource bundle (English) and you have a property file for each language.</p>
				<p>Translation :</p>
				<ul>
				<li><p>Get  property file of your choice as a source language. Example: take last release of <span style="font-family: monospace;">jajuk.properties</span> as English source language at <a href='http://cvs.sourceforge.net/viewcvs.py/jajuk/jajuk/src/org/jajuk/i18n/jajuk.properties'>http://cvs.sourceforge.net/viewcvs.py/jajuk/jajuk/src/org/jajuk/i18n/jajuk.properties</a>
					or any other property file in this directory.</p>
				</li>
				<li><p>Create your text file. It should begin with :</p>
				<p><span style="font-family: monospace;">#Jajuk ${your language} langpack. <br></br>
				#Written by : ${your name}<br></br>
				#Copyright 2003,2004 ${your name}, this is part of Jajuk distributed under the GPL V2 license<br></br>
				#FROM ${source language} ${cvs version}<br></br>
				#$Revision$</span></p>
				<p>FROM comment gives exact CVS version you translated to allow diffs with newer versions and Revision gives automatically the current CVS version of your file ( do not change this line manually, it will be updated by CVS).</p>
			</li>
			<li>Please write your files in Unicode UTF-8 encoding. If you don't know how to set the encoding, please <a href='mailto:bflorat@users.sourceforge.net'>ask us</a>. 
			Under Windows, we advice Eclipse (see developer manual for eclipse i18n configuration) or Ultraedit. 
			Under Linux, we advice Eclipse (see developer manual for eclipse i18n configuration) or Kate. If you didn't used UTF-8, we will convert it for you but please give us the encoding you used. If 
			you don't know which encoding you used, start Jajuk, go to Help perspective/About view, click on the <i>system</i> tab and your encoding is given by <i>file.encoding</i> property.</li>
			<li><p>Look at file structure: It is a simple key=value  format. Example:</p>
				<p><span style="font-family: monospace;">ParameterView.73=Check this if you allow others people to come read music from your box<br></br>
				ParameterView.74=Password :<br></br>
				ParameterView.75=Set password access to your box. If no password is set, no one can read from it</span></p>
				<p>Simply translate each value, Previous example in French:</p>
				<p><span style="font-family: monospace;">ParameterView.73=Accepter que d'autres utilisateurs lise la musique située sur votre machine<br></br>
				ParameterView.74=Mot de passe :<br></br>
				ParameterView.75=Fixez un mot de passe à votre machine. Tant que le mot de passe n'est pas fixé, personne ne peut s'y connecter</span></p>
			</li>
			
			<li><p>Translate even lines like <span style="font-family: monospace;">Language_desc_*=*</span> (other languages names) and <u>add a new line with your own language name.</u></p></li>
			
			<li><p><a href='bflorat@users.sourceforge.net'>Send us</a> your work as a property file with your local ( ex: <span style="font-family: monospace;">jajuk_ru.properties</span> for russian ). It could be nice you send also a message in the forum: 
			<a href='http://sourceforge.net/forum/forum.php?forum_id=315360'>http://sourceforge.net/forum/forum.php?forum_id=315360</a>. Contact us if you have a developer profile so we will create a 
			CVS account for you. Then you will be able to commit and maintain your translation files directly in the repository.</p>
			</li>

			<li><p>(Optional, for developers) If you want to test your work (<i>ant</i> must be installed):</p></li>
				<ul>
					<li><p>Edit  <span style="font-family: monospace;">${jajuk installation path}/src/org/jajuk/Main.java</span> file and search for line :</p></li>
					<p><span style="font-family: monospace;">Messages.registerLocal("fr","Language_desc_fr"); //$NON-NLS-1$ //$NON-NLS-2$</span></p>
					<p>Add after this line your own local. Example :</p>
					<span style="font-family: monospace;">Messages.registerLocal("ru","Language_desc_ru"); //$NON-NLS-1$ //$NON-NLS-2$</span>
					<li><p>Copy your properties file in the <span style="font-family: monospace;">${jajuk installation path}/src/org/jajuk/i18n</span> directory</p></li>
					<li><p>Go in the <span style="font-family: monospace;">${jajuk installation path}</span> directory where you can find the <span style="font-family: monospace;">build.xml</span> file</p></li>
					<li><p>Rebuild Jajuk typing <span style="font-family: monospace;">'ant'</span></p></li>
					<li><p>Launch Jajuk and set language in the parameter view of the configuration perspective.</p></li>
					<li><p>Check your work.</p></li>
				</ul>
			</ul>
    	</subsection>
   			
  		<subsection name='Translation upgrades'>
  			<p>As you can imagine, Jajuk evolves and new releases brings new labels or change them. Before new releases, the packager will send a message to all
  			translators in order to upgrade their translation. Note that if some new labels are not translated, they will simply be displayed in English and so, a missing translation
  			is not critical. The hard work is the first translation : upgrade a translation requires only few minutes. You only need a web browser and a text editor supporting UTF-8 (see adviced text editors in the Jajuk translation section). 
  			You can upgrade your translation whenever you want.
  			What you have to do when upgrading a translation is :</p>
  			<ul>
  				<li><p>If your source (FROM) language is NOT English, make sure it is up to date before upgrading it.</p></li>
  				<li><p>Check your #FROM comment at the beginning of your file, it should contain CVS release version of your last upgrade.</p></li>
  				<li><p>Perform a 'diff' between this release and the latest in CVS repository. To achieve that, you can either use ViewCVS interface accessible from Jajuk web site (<a href='http://cvs.sourceforge.net/viewcvs.py/jajuk/jajuk/src/org/jajuk/i18n/'>CVS Web repository</a>) or a CVS client like Eclipse if you have one.</p></li>
  				<li><p>Remove old labels, modify and add new ones.</p></li>
  				<li><p>Upgrade the #FROM comment with the translated release.</p></li>
  				<li><p>Commit your file or send it <a href='mailto:bflorat@users.sourceforge.net'>by mail</a>.</p></li>
  			</ul>
  		</subsection>
   			
  		<subsection name='Tips'>
  			<ul>
	   			<li><p>Of course, do not modify keys but only values.</p></li>
				<li><p>If a value contains a '\ ', do not drop it, it means there is a space at line start or end.</p></li>
				<li><p>Keep &lt;html&gt; and &lt;/html&gt; strings.</p></li>
				<li><p>Keep all punctuation and specials characters like '[','.' and so on...</p></li>
				<li><p>Set date format according your locale, ex: DD/MM/YYYY in French, YYYY-MM-DD in English</p></li>
				<li><p>Try to keep values length near from source ones so labels will not be too long and stay visible.</p></li>
				<li><p>Use a spelling corrector.</p></li>
				</ul>
    		</subsection>
    	</section>
  </body>
</document>