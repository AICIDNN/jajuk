<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="stylesheet" type="text/css" href="href://wiki.jajuk.info/index.php?title=MediaWiki:Common.css&amp;action=raw" />
<title>
performance tips</title>
</head>
<body>
<h1>
performance tips</h1>
<p>
Go back to <a href="table_of_contents.html">
table of contents</a>
</p>
<p>
Read that chapter if you encounter some performances drawbacks or if you want consume less memory, disk, CPU or Network bandwidth using Jajuk.</p>
<h2>
CPU usage</h2>
<ul>
<li>
On a PC/P4M 1.8Ghz, Jajuk uses about 9% CPU for mp3 and 3% for Ogg Vorbis. On a Centrino 1.8 Ghz: 0% CPU.</li>
<li>
Tips to reduce CPU Usage:<ul>
<li>
In your current perspective, don't keep opened or minimized views that you don't need</li>
</ul>
</li>
</ul>
<h2>
Memory Usage</h2>
<ul>
<li>
Jajuk usually uses 100 MB of memory or more for large collections when using GUI. It can looks large but keep in kind that Jajuk comes with a lot of features and image manipulation and that even with optimizations, there's still a floor of memory footprint we can't go bellow.</li>
<li>
A JVM runs inside a reserved memory heap. The JVM takes all the Xms MB of memory at startup and requires more memory to the OS only if necessary. For a big size collection and all cover options enabled, it takes about 65MB maximum of memory but 40MB should be enough most of the time.</li>
<li>
Tips to reduce memory consumption:<ul>
<li>
Don't use image wallpapers (Preference view / GUI tab)</li>
<li>
Don't use covers prefetch (Preference view / covers tab)</li>
<li>
Don't open perspectives you don't use (perspective memory is used only once opened)</li>
</ul>
</li>
</ul>
<h2>
Bandwidth</h2>
<ul>
<li>
If you have a low Internet connection, avoid using advanced online covers options (see next chapter).</li>
<li>
If you use a network drive-type device, check refresh frequency (default: 5 mins) because Jajuk scans all the device with this given frequency and this uses bandwidth. Increase duration if the collection changes few.</li>
</ul>
<h2>
Covers performance tunning</h2>
<p>
These options are available in the Parameter View / Cover tab.</p>
<ul>
<li>
"Use auto-cover" option (default=yes) uses network bandwidth, especially if you use "Preload Cover" option. Avoid this option if you have a low bandwidth.</li>
<li>
"Prefetch covers" (default=no) is very network bandwidth consuming. Use this option only if you have a fast network like xDSL or cable.</li>
<li>
You can reduce covers size by setting lower minimum and maximum cover sizes.</li>
<li>
You can increase or decrease the time out when downloading a cover in the Parameter view/ Network tab.</li>
</ul>
<h2>
Tags performance tunning</h2>
<p>
At first refresh or during a forced refresh, all tags are read again. This takes a while. Use "Force refresh" function only if you want to update tags changed by another application.</p>
<h2>
Collection performance tunning</h2>
<p>
These options are available in the <a href="view_preferences.html">
view preferences</a>
, Advanced tab.</p>
<ul>
<li>
If your collection uses mainly non-European characters (like Asian languages), choose UTF-16 as collection encoding : that will reduce collection file size and accelerate startup parsing. Do not use this option if you use European languages because you collection file would then grow.</li>
</ul>
<h2>
Animation View performance tunning</h2>
<p>
Animation view uses Java 2D. CPU overhead can be significant, especially with screen resolution higher that 1200x1024. On a P4 1.8Ghz with a resolution of 1024x768, the overhead is about 2 or 3% but reaches 10 or more with a resolution of 1400x1200.</p>
<h2>
JVM choice and customization</h2>
<p>
We recommend Sun JVM 1.6</p>
<ul>
<li>
If you have a really big collection more than 150 or 200 GB), you may increase -Xms parameter.</li>
<li>
You can set a -Xmx parameter to restrict memory usage to this value (example: -Xmx600M)</li>
<li>
Use -Xloggc:&lt;file name&gt; to trace memory usage if needed.</li>
</ul>
<p>
Go back to <a href="table_of_contents.html">
table of contents</a>
</p>
</body>
</html>
